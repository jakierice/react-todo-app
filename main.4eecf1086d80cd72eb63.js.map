{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/tasks.json","webpack:///./src/components/Title.tsx","webpack:///./src/components/TaskForm.tsx","webpack:///./src/components/EmptyTask.tsx","webpack:///./src/components/Task.tsx","webpack:///./src/index.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","done","total","className","isEditing","onChange","onSubmit","type","event","target","onClick","disabled","isFav","isDone","text","onEdit","onToggleFav","onToggleDone","onRemove","href","icon","id","withFallback","ordTaskText","task","ordTaskIsDone","ordTask","concat","sortTasks","groupTasksBy","tasks","values","map","currentLens","fromProp","currentTextLens","composeLens","tasksLens","at","String","composePrism","some","Action","Add","Edit","Load","ToggleDone","ToggleFav","Remove","UpdateText","load","send","response","init","current","app","program","action","model","match","none","set","body","modify","default","filter","dispatch","run","dom","document","getElementById"],"mappings":"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","file":"main.4eecf1086d80cd72eb63.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([134,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"tasks.0c02cb5452c7fc595b2a17905485db36.json\";","import * as React from 'react'\n\nexport interface Props {\n  done: number\n  total: number\n}\n\nexport const Title: React.FunctionComponent<Props> = ({ done, total }: Props) => (\n  <>\n    Simple Todo&nbsp;\n    <span className=\"text-muted small\">\n      {done} / {total}\n    </span>\n  </>\n)\n","import * as React from 'react'\n\nexport interface Props {\n  isEditing: boolean\n  value: string\n  onChange: (text: string) => void\n  onSubmit: () => void\n}\n\nexport const TaskForm: React.FunctionComponent<Props> = ({ isEditing, value, onChange, onSubmit }: Props) => (\n  <div className=\"input-group\">\n    <input type=\"text\" className=\"form-control\" name=\"task\" value={value} onChange={event => onChange(event.target.value)} />\n    <div className=\"input-group-append\">\n      <button type=\"submit\" className=\"btn btn-primary\" onClick={onSubmit} disabled={value === ''}>\n        {isEditing ? 'Edit' : 'Add'}\n      </button>\n    </div>\n  </div>\n)\n","import * as React from 'react'\n\nexport const EmptyTask: React.FunctionComponent = () => (\n  <li className=\"list-group-item\">\n    <em>Task list is empty.</em>\n  </li>\n)\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEdit, faCheckSquare, faStar, faTimes } from '@fortawesome/free-solid-svg-icons'\nimport { faSquare, faStar as faStarEmpty } from '@fortawesome/free-regular-svg-icons'\nimport * as React from 'react'\n\nexport interface Props {\n  isFav: boolean\n  isDone: boolean\n  text: string\n\n  onToggleFav: () => void\n  onToggleDone: () => void\n  onEdit: () => void\n  onRemove: () => void\n}\n\nexport const Task: React.FunctionComponent<Props> = ({ isFav, isDone, text, onEdit, onToggleFav, onToggleDone, onRemove }) => (\n  <li className=\"task-container list-group-item d-flex justify-content-between align-items-center\">\n    <div>\n      <a href=\"#\" className=\"btn-left\" onClick={onToggleFav}>\n        <FontAwesomeIcon icon={isFav ? faStar : faStarEmpty} />\n      </a>\n      <a href=\"#\" className=\"btn-left\" onClick={onToggleDone}>\n        <FontAwesomeIcon icon={isDone ? faCheckSquare : faSquare} />\n      </a>\n      {!isDone ? text : <del className=\"text-muted\">{text}</del>}\n    </div>\n    <div>\n      <a href=\"#\" className=\"btn-right\" onClick={onEdit}>\n        <FontAwesomeIcon icon={faEdit} />\n      </a>\n      <a href=\"#\" className=\"btn-right\" onClick={onRemove}>\n        <FontAwesomeIcon icon={faTimes} />\n      </a>\n    </div>\n  </li>\n)\n","import { contramap, ordBoolean, ordString, getSemigroup, ordNumber } from 'fp-ts/lib/Ord'\nimport * as R from 'fp-ts/lib/Record'\nimport { pipe } from 'fp-ts/lib/pipeable'\nimport { atRecord } from 'monocle-ts/es6/At/Record'\nimport { Prism, Lens } from 'monocle-ts/es6'\nimport * as E from 'fp-ts/lib/Either'\nimport * as t from 'io-ts'\nimport { withFallback } from 'io-ts-types/lib/withFallback'\nimport { getFirstSemigroup, getJoinSemigroup, fold } from 'fp-ts/lib/Semigroup'\nimport * as A from 'fp-ts/lib/Array'\nimport { cmd, html, http, platform } from 'effe-ts'\nimport { unionize, ofType, UnionOf } from 'unionize'\nimport { Title } from './components/Title'\nimport { TaskForm } from './components/TaskForm'\nimport { EmptyTask } from './components/EmptyTask'\nimport { Task as TaskComponent } from './components/Task'\nimport * as ReactDOM from 'react-dom'\nimport * as React from 'react'\n\nconst Task = t.interface(\n  {\n    id: t.number,\n    text: t.string,\n    isDone: t.boolean,\n    isFav: withFallback(t.boolean, false)\n  },\n  'Task'\n)\ntype Task = t.TypeOf<typeof Task>\n\n// Function for creating an empty task\nconst task = (id: number): Task => ({\n  id,\n  text: '',\n  isDone: false,\n  isFav: false\n})\n\n// Define how tasks should be ordered\nconst ordTaskText = contramap<string, Task>(task => task.text)(ordString) // Order by text\nconst ordTaskIsDone = contramap<boolean, Task>(task => task.isDone)(ordBoolean) // Order by isDone\nconst ordTask = getSemigroup<Task>().concat(ordTaskIsDone, ordTaskText) // Combine both ordering strategies\nconst sortTasks = A.sort(ordTask)\n\n// Util\nconst groupTasksBy = R.fromFoldableMap(getFirstSemigroup<Task>(), A.array)\n// Determine the next task id by getting the maximum task id and add one. If empty return 1 as default value\nconst nextTaskId = (tasks: Record<string, Task>) =>\n  fold(getJoinSemigroup(ordNumber))(1, Object.values(tasks).map(task => task.id)) + 1\n\n// The single state tree used by the application\ninterface Model {\n  current: Task\n  tasks: Record<string, Task>\n}\n\n// Lenses for the `Model`\nconst currentLens = Lens.fromProp<Model>()('current')\nconst currentTextLens = currentLens.composeLens(Lens.fromProp<Task>()('text'))\nconst tasksLens = Lens.fromProp<Model>()('tasks')\nconst taskByIdOptional = (id: number) => tasksLens.composeLens(atRecord<Task>().at(String(id))).composePrism(Prism.some())\n\n// All actions that can happen in our application\nconst Action = unionize({\n  Add: {},\n  Edit: ofType<{ task: Task }>(),\n  Load: ofType<{ response: http.HttpResponseEither<Task[]> }>(),\n  ToggleDone: ofType<{ task: Task }>(),\n  ToggleFav: ofType<{ task: Task }>(),\n  Remove: ofType<{ task: Task }>(),\n  UpdateText: ofType<{ text: string }>()\n})\ntype Action = UnionOf<typeof Action>\n\n// Commands\n// Load tasks from json file\nconst load: cmd.Cmd<Action> = http.send(http.get(require('./tasks.json'), t.array(Task)), response => Action.Load({ response }))\n\n// Generate the initial state of our application and trigger a command if wanted\nconst init: [Model, cmd.Cmd<Action>] = [\n  {\n    current: task(1),\n    tasks: {}\n  },\n  load\n]\n\nconst update = (action: Action, model: Model): [Model, cmd.Cmd<Action>] =>\n  Action.match(action, {\n    Add: () => {\n      // Add the new task to the existing tasks\n      const tasks = pipe(\n        model.tasks,\n        R.insertAt(String(model.current.id), model.current)\n      )\n      // Generate the new current task based on the newly created tasks record to determine the next possible id\n      const current = task(nextTaskId(tasks))\n      return [\n        {\n          current,\n          tasks\n        },\n        cmd.none\n      ]\n    },\n    Edit: ({ task }) => [currentLens.set(task)(model), cmd.none],\n    Load: ({ response }) =>\n      pipe(\n        response,\n        E.fold(\n          // If the response is an error do nothing by returning the current model\n          () => [model, cmd.none],\n          // Else evaluate the http response\n          response => {\n            const tasks = groupTasksBy(response.body, task => [String(task.id), task])\n            const current = task(nextTaskId(tasks))\n            return [\n              {\n                current,\n                tasks\n              },\n              cmd.none\n            ]\n          }\n        )\n      ),\n    ToggleDone: ({ task }) => [taskByIdOptional(task.id).modify(task => ({ ...task, isDone: !task.isDone }))(model), cmd.none],\n    ToggleFav: ({ task }) => [taskByIdOptional(task.id).modify(task => ({ ...task, isFav: !task.isFav }))(model), cmd.none],\n    Remove: ({ task }) => [tasksLens.modify(R.deleteAt(String(task.id)))(model), cmd.none],\n    UpdateText: ({ text }) => [currentTextLens.set(text)(model), cmd.none],\n    default: () => [model, cmd.none]\n  })\n\nconst view = (model: Model) => {\n  // Convert tasks record to array and sort\n  const tasks = sortTasks(Object.values(model.tasks))\n  const done = tasks.filter(task => task.isDone).length\n  const total = tasks.length\n  // If the current task id is equal to a task that already exists in tasks we are editing\n  const isEditing = R.hasOwnProperty(String(model.current.id), model.tasks)\n\n  return (dispatch: platform.Dispatch<Action>) => (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <Title done={done} total={total} />\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        <TaskForm\n          isEditing={isEditing}\n          value={model.current.text}\n          onChange={text => dispatch(Action.UpdateText({ text }))}\n          onSubmit={() => dispatch(Action.Add())}\n        />\n      </div>\n      <ul className=\"list-group list-group-flush\">\n        {/* If we have no tasks we show a placeholder */}\n        {total === 0 ? <EmptyTask /> : null}\n        {tasks.map(task => (\n          <TaskComponent\n            key={task.id}\n            {...task}\n            onEdit={() => dispatch(Action.Edit({ task }))}\n            onRemove={() => dispatch(Action.Remove({ task }))}\n            onToggleDone={() => dispatch(Action.ToggleDone({ task }))}\n            onToggleFav={() => dispatch(Action.ToggleFav({ task }))}\n          />\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nconst app = html.program(init, update, view)\n\nhtml.run(app, dom => {\n  ReactDOM.render(dom, document.getElementById('app'))\n})\n"],"sourceRoot":""}